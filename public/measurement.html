<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Äo Chá»‰ Sá»‘ Sá»©c Khá»e</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-teal-50 via-blue-50 to-indigo-100 text-gray-800 flex flex-col items-center">

  <!-- Menu -->
  <div id="menu-container"></div>
  <script>
    fetch("menu.html")
      .then(res => res.text())
      .then(html => document.getElementById("menu-container").innerHTML = html);
  </script>

  <!-- Ná»™i dung chÃ­nh -->
  <main class="mt-28 w-full max-w-5xl px-6 pb-16 flex flex-col items-center">
    <h1 class="text-3xl font-bold text-indigo-600 mb-10 tracking-wide text-center">
      ğŸ©º Äo Chá»‰ Sá»‘ Sinh Há»c CÆ¡ Thá»ƒ
    </h1>

    <!-- 3 chá»‰ sá»‘ -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 w-full">
      <!-- Nhiá»‡t Ä‘á»™ -->
      <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
        <div class="text-5xl mb-3">ğŸŒ¡ï¸</div>
        <h2 class="text-lg font-semibold text-gray-700 mb-2">Nhiá»‡t Ä‘á»™ cÆ¡ thá»ƒ</h2>
        <p id="tempValue" class="text-3xl font-bold text-blue-600">-- Â°C</p>
        <button onclick="measure('temperature')" class="mt-4 bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 hover:scale-105 transition-all duration-300">Äo ngay</button>
      </div>

      <!-- Ná»“ng Ä‘á»™ Oxi -->
      <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
        <div class="text-5xl mb-3">ğŸ«</div>
        <h2 class="text-lg font-semibold text-gray-700 mb-2">Oxi trong mÃ¡u (SpOâ‚‚)</h2>
        <p id="oxygenValue" class="text-3xl font-bold text-green-600">-- %</p>
        <button onclick="measure('oxygen')" class="mt-4 bg-green-600 text-white px-5 py-2 rounded-lg hover:bg-green-700 hover:scale-105 transition-all duration-300">Äo ngay</button>
      </div>

      <!-- Huyáº¿t Ã¡p -->
      <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl">
        <div class="text-5xl mb-3">â¤ï¸</div>
        <h2 class="text-lg font-semibold text-gray-700 mb-2">Huyáº¿t Ã¡p</h2>
        <p id="bpValue" class="text-3xl font-bold text-red-500">-- / -- mmHg</p>
        <button onclick="measure('bloodPressure')" class="mt-4 bg-red-600 text-white px-5 py-2 rounded-lg hover:bg-red-700 hover:scale-105 transition-all duration-300">Äo ngay</button>
      </div>
    </div>

    <!-- Káº¿t quáº£ chi tiáº¿t -->
    <div id="resultBox" class="hidden mt-12 bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg text-center border border-gray-100">
      <h2 class="text-2xl font-bold text-indigo-600 mb-3">ğŸ“Š Káº¿t Quáº£ Gáº§n Nháº¥t</h2>
      <p id="resultText" class="text-gray-700 text-lg">Äang xá»­ lÃ½ dá»¯ liá»‡u...</p>
    </div>
  </main>

  <script>
    // Giáº£ láº­p Ä‘o chá»‰ sá»‘ (sau nÃ y thay báº±ng API thá»±c táº¿)
    async function measure(type) {
      const resultBox = document.getElementById("resultBox");
      const resultText = document.getElementById("resultText");

      resultBox.classList.remove("hidden");
      resultText.textContent = "â³ Äang Ä‘o, vui lÃ²ng chá»...";

      try {
        // Gá»­i yÃªu cáº§u Ä‘o qua API
        const res = await fetch(`/api/v1/measure/${type}`);
        const data = await res.json();

        if (!res.ok) throw new Error(data.message || "Lá»—i khi Ä‘o");

        // Hiá»ƒn thá»‹ káº¿t quáº£ Ä‘o
        if (type === "temperature") {
          document.getElementById("tempValue").textContent = data.value + " Â°C";
        } else if (type === "oxygen") {
          document.getElementById("oxygenValue").textContent = data.value + " %";
        } else if (type === "bloodPressure") {
          document.getElementById("bpValue").textContent = `${data.systolic} / ${data.diastolic} mmHg`;
        }

        resultText.textContent = `âœ… ${data.message || "Äo thÃ nh cÃ´ng!"}`;
      } catch (err) {
        console.error(err);
        resultText.textContent = "âš ï¸ Lá»—i khi Ä‘o, vui lÃ²ng thá»­ láº¡i.";
      }
    }
  </script>
</body>
</html>
